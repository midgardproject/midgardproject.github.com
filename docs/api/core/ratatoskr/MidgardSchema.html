<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MidgardSchemaObjectFactory</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="Midgard2 Reference Manual">
<link rel="up" href="midgard-Basic.html" title="Midgard Basic Types">
<link rel="prev" href="midgard-2.0-midgard-dbobject.html" title="MidgardDBObject">
<link rel="next" href="midgard-2.0-midgard-transaction.html" title="MidgardTransaction">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="midgard-2.0-midgard-dbobject.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="midgard-Basic.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Midgard2 Reference Manual</th>
<td><a accesskey="n" href="midgard-2.0-midgard-transaction.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#MidgardSchema.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#MidgardSchema.description" class="shortcut">Description</a>
                   | 
                  <a href="#MidgardSchema.object-hierarchy" class="shortcut">Object Hierarchy</a>
</td></tr>
</table>
<div class="refentry">
<a name="MidgardSchema"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="MidgardSchema.top_of_page"></a>MidgardSchemaObjectFactory</span></h2>
<p>MidgardSchemaObjectFactory</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="MidgardSchema.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;midgard/midgard.h&gt;

struct              <a class="link" href="MidgardSchema.html#MidgardSchema-struct" title="struct MidgardSchema">MidgardSchema</a>;
struct              <a class="link" href="MidgardSchema.html#MidgardSchemaClass" title="struct MidgardSchemaClass">MidgardSchemaClass</a>;
<span class="returnvalue">void</span>                <a class="link" href="MidgardSchema.html#midgard-schema-init" title="midgard_schema_init ()">midgard_schema_init</a>                 (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *path</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="MidgardSchema.html#midgard-schema-read-dir" title="midgard_schema_read_dir ()">midgard_schema_read_dir</a>             (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dirname</code></em>);
<a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            <a class="link" href="MidgardSchema.html#midgard-schema-type-exists" title="midgard_schema_type_exists ()">midgard_schema_type_exists</a>          (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *classname</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="MidgardSchema.html#midgard-schema-read-file" title="midgard_schema_read_file ()">midgard_schema_read_file</a>            (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="MidgardSchema.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject">GObject</a>
   +----MidgardSchema
</pre>
</div>
<div class="refsect1">
<a name="MidgardSchema.description"></a><h2>Description</h2>
<p>
</p>
</div>
<div class="refsect1">
<a name="MidgardSchema.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="MidgardSchema-struct"></a><h3>struct MidgardSchema</h3>
<pre class="programlisting">struct MidgardSchema;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="MidgardSchemaClass"></a><h3>struct MidgardSchemaClass</h3>
<pre class="programlisting">struct MidgardSchemaClass {
	GObjectClass parent;
};
</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2">
<a name="midgard-schema-init"></a><h3>midgard_schema_init ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                midgard_schema_init                 (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *path</code></em>);</pre>
<p>
Reads xml file which defines very basic and common classes.
By default it's `/usr/local/share/midgard/MidgardObjects.xml` file.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> instance</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>path</code></em> :</span></p></td>
<td>full path to a xml file with common classes</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="midgard-schema-read-dir"></a><h3>midgard_schema_read_dir ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            midgard_schema_read_dir             (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *dirname</code></em>);</pre>
<p>
This function expects 'schema' subdirectory at least.
'views' subdirectory is optional, and if missed, won't be read.
<a class="link" href="MidgardSchema.html#midgard-schema-read-file" title="midgard_schema_read_file ()"><code class="function">midgard_schema_read_file()</code></a> is invoked for every valid xml MgdSchema file 
found in 'schema' subdirectory found in  given directory.
</p>
<p>
You can also use explicit NULL instead of directory path.
In such case, MIDGARD_ENV_GLOBAL_SHAREDIR environment variable is checked.
If it's not set, directory path is determined using prefix set for compile 
and build time.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> instance</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>dirname</code></em> :</span></p></td>
<td>a directory with 'schema' and 'views' subdirectories.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if files has been read, <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="midgard-schema-type-exists"></a><h3>midgard_schema_type_exists ()</h3>
<pre class="programlisting"><a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>            midgard_schema_type_exists          (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *classname</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> instance</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>classname</code></em> :</span></p></td>
<td>
<a href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObjectClass"><span class="type">GObjectClass</span></a> derived class name</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if class is registered as <span class="type">MidgardObjectClass</span> derived, <a href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="midgard-schema-read-file"></a><h3>midgard_schema_read_file ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                midgard_schema_read_file            (<em class="parameter"><code><a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *filename</code></em>);</pre>
<p>
Reads file at given path and initialize all <span class="type">MidgardObjectClass</span> derived classes defined
in this file. Also reads all files which are included in this file.
Such files are read and parsed when given file is already parsed and all classes
defined in given file are already registered in GType system.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="MidgardSchema.html" title="MidgardSchemaObjectFactory"><span class="type">MidgardSchema</span></a> instance</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td>full path to a file</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>